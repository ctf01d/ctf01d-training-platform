# ctf01d Training Platform — Concept

Платформа для тренировок CTF-команд в режиме attack-defence, построенная на базе журейной системы ctf01d.

---

## Основные возможности

- Каталог сервисов с чекерами
- Управление командами и пользователями
- Автоматическое развертывание игр AD в виртуальной среде
- Гибкая система ролей и прав

---

## Режимы работы

1. **Публичный каталог сервисов** — открытый архив для поиска и скачивания сервисов.
2. **Локальная тренировочная система** — развёртывание собственной среды с возможностью загрузки сервисов из публичного каталога.

---

## Технологический стек

- **Backend:** Go
- **Database:** PostgreSQL
- **Frontend:** Vanilla JS + jQuery

---

## Пользователи и авторизация

Каждый пользователь имеет:
- UUID
- Логин (user_name) — уникальный, латиница/цифры/"_", используется в URL, не изменяется
- Видимое имя (display_name)
- Пароль (хранится как хеш)
- Аватар (ссылка)
- Рейтинг (очки)

### Роли пользователей

- guest — обычный пользователь (по умолчанию)
- player — может модерировать данные
- admin — администратор

> Возможность создавать новые роли предусмотрена (см. [issue #35](https://github.com/sea-kg/ctf01d-training-platform/issues/35)).

### Профиль пользователя
- История участия в командах
- Текущая команда

### Основные функции
- Авторизация (логин/пароль)
- Регистрация (по приглашению/одобрению админа)
- Управление пользователями (создание, удаление, сброс пароля, смена аватара)
- Изменение пароля (пользователь или админ)

---

## Каталог сервисов

Поля сервиса:
- UUID
- Уникальное имя
- Публичное описание
- Приватное описание (для админов)
- Автор
- Копирайт
- Аватар
- Архив сервиса (с версионированием)
- Архив чекера (с версионированием)
- Флаги валидации
- Публичность
- Даты создания/обновления
- Рейтинг

> Добавлять/изменять/удалять сервисы может только админ.

### Функции
- Добавление/редактирование/удаление сервисов (админ)
- Загрузка/валидация архивов
- Управление аватарами

---

## Команды

Поля:
- UUID
- Название
- Аватар
- Университет
- Описание
- Сайт
- Капитан

### Связи и роли в командах
- Пользователь может быть участником нескольких команд
- Владелец, капитан, зам. капитана, игрок, гость
- История изменений состава и ролей

### Функции
- Запрос/создание/удаление/редактирование команды
- Управление участниками и ролями
- История изменений

### Логика
- Несколько владельцев, один капитан, несколько замов
- Капитаном можно быть только в одной команде
- Участником — в нескольких

---

## Игры

Поля:
- Название
- Дата начала/окончания
- Организатор

> Добавлять/изменять/удалять игры может только админ.

### TODO
- Планирование игр
- Управление доступом (VPN и пр.)
- Scoreboard
- Сохранение результатов

---

## Дополнительно

- Все поля и ограничения описаны в OpenAPI спецификации
- Вопросы и предложения — через Issues на GitHub
